{
  "id": "85aa76ed-7a2a-4702-827c-e645e23de3f1",
  "revision": 0,
  "last_node_id": 15,
  "last_link_id": 21,
  "nodes": [
    {
      "id": 5,
      "type": "VHS_VideoInfoLoaded",
      "pos": [
        -1000,
        -170
      ],
      "size": [
        300,
        120
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "name": "video_info",
          "type": "VHS_VIDEOINFO",
          "link": 3
        }
      ],
      "outputs": [
        {
          "name": "fpsüü¶",
          "type": "FLOAT",
          "slot_index": 0,
          "links": [
            8,
            16
          ]
        },
        {
          "name": "frame_countüü¶",
          "type": "INT"
        },
        {
          "name": "durationüü¶",
          "type": "FLOAT"
        },
        {
          "name": "widthüü¶",
          "type": "INT"
        },
        {
          "name": "heightüü¶",
          "type": "INT"
        }
      ],
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "1.7.7",
        "Node name for S&R": "VHS_VideoInfoLoaded"
      },
      "widgets_values": {}
    },
    {
      "id": 6,
      "type": "RectCrop",
      "pos": [
        -1000,
        -380
      ],
      "size": [
        290,
        140
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 4
        },
        {
          "name": "rect",
          "type": "RECT",
          "link": 5
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            6,
            9
          ]
        }
      ],
      "title": "Rect / Crop ‚Äî ROI frames",
      "properties": {
        "Node name for S&R": "RectCrop"
      },
      "widgets_values": []
    },
    {
      "id": 11,
      "type": "VHS_VideoCombine",
      "pos": [
        240,
        200
      ],
      "size": [
        460,
        334
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 14
        },
        {
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": 15
        },
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE"
        },
        {
          "name": "frame_rate",
          "type": "FLOAT",
          "widget": {
            "name": "frame_rate"
          },
          "link": 16
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES"
        }
      ],
      "title": "VHS_VideoCombine ‚Äî ROI_Reinserted",
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "1.7.7",
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 8,
        "loop_count": 0,
        "filename_prefix": "ROI_Reinserted",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 18,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {}
        }
      }
    },
    {
      "id": 12,
      "type": "PreviewImage",
      "pos": [
        740,
        160
      ],
      "size": [
        380,
        220
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 17
        }
      ],
      "outputs": [],
      "title": "Preview Stitched (first frame)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.67",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 13,
      "type": "Note",
      "pos": [
        -1367.5,
        -869.1666603088379
      ],
      "size": [
        1020,
        240
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "README (RU)",
      "properties": {
        "cnr_id": "comfy-core"
      },
      "widgets_values": [
        "–í–ò–î–ï–û: –í–´–†–ï–ó–ê–¢–¨ –ü–û –ü–†–Ø–ú–û–£–ì–û–õ–¨–ù–ò–ö–£ –ò –ü–†–ò–®–ò–¢–¨ –û–ë–†–ê–¢–ù–û (—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –ø–æ —Å–µ–∫—É–Ω–¥–∞–º)\n\n1) PREVIEW (1 frame): —É–∫–∞–∂–∏ –ø—É—Ç—å. –ì—Ä—É–∑–∏—Ç—Å—è 1 –∫–∞–¥—Ä ‚Üí –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫–∞ –¥–ª—è Rect.\n2) –í 'Rect / Select' –Ω–∞—Ä–∏—Å—É–π –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫.\n3) ORIGINAL_RANGE: –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–ª–∏–ø–∞ –∑–∞–¥–∞—ë—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ: frame_load_cap = —Å–µ–∫—É–Ω–¥—ã * fps.\n   –ü—Ä–∏–º–µ—Ä: 10 —Å–µ–∫ –ø—Ä–∏ 30 fps => 300. fps –∑–∞–¥–∞—ë—Ç—Å—è –ø–æ–ª–µ–º force_rate.\n   –°–º–µ—â–µ–Ω–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ ‚Äî skip_first_frames (—Å–µ–∫*fps).\n4) ‚ñ∂ ROI_Extract ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç –≤—ã—Ä–µ–∑–∞–Ω–Ω—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç –∫–∞–∫ –≤–∏–¥–µ–æ.\n5) EDITED ROI: —É–∫–∞–∂–∏ –ø—É—Ç—å –∫ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É ROI, –≤—ã—Å—Ç–∞–≤–∏ —Ç–µ –∂–µ fps/–¥–ª–∏–Ω—É.\n6) ‚ñ∂ ROI_Reinserted ‚Äî –ø—Ä–∏—à–∏–≤–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –≤ –∏—Å—Ö–æ–¥–Ω—ã–µ –∫–∞–¥—Ä—ã –ø–æ —Ç–µ–º –∂–µ x,y.\n\n–ü–ê–ú–Ø–¢–¨/–û–®–ò–ë–ö–ò:\n- –ï—Å–ª–∏ –≤–∏–¥–∏—à—å 'cannot allocate array memory', —É–º–µ–Ω—å—à–∏ frame_load_cap –∏/–∏–ª–∏ —É–≤–µ–ª–∏—á—å select_every_nth.\n- PREVIEW –≤—Å–µ–≥–¥–∞ 1 –∫–∞–¥—Ä ‚Äî –Ω–µ —Ç—Ä–æ–≥–∞–π –µ–≥–æ –¥–ª–∏–Ω—É.\n- –î–ª—è –º—è–≥–∫–∏—Ö –∫—Ä–∞—ë–≤ –ø–æ–¥–∫–ª—é—á–∏ RectMask‚ÜíImageToMask –≤ 'mask' —É –∫–æ–º–ø–æ–∑–∏—Ç–∞.\n"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 7,
      "type": "VHS_VideoCombine",
      "pos": [
        -97.5,
        -571.6666793823242
      ],
      "size": [
        460,
        480.91666666666663
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 6
        },
        {
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": 7
        },
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE"
        },
        {
          "name": "frame_rate",
          "type": "FLOAT",
          "widget": {
            "name": "frame_rate"
          },
          "link": 8
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES"
        }
      ],
      "title": "VHS_VideoCombine ‚Äî ROI_Extract",
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "1.7.7",
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 8,
        "loop_count": 0,
        "filename_prefix": "ROI_Extract",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 18,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "ROI_Extract_00006-audio.mp4",
            "subfolder": "",
            "type": "output",
            "format": "video/h264-mp4",
            "frame_rate": 30,
            "workflow": "ROI_Extract_00006.png",
            "fullpath": "C:\\Users\\admin\\Documents\\ComfyUI\\output\\ROI_Extract_00006-audio.mp4"
          }
        }
      }
    },
    {
      "id": 4,
      "type": "VHS_LoadVideoPath",
      "pos": [
        -1573.3333587646484,
        -662.5
      ],
      "size": [
        529.7587890625,
        586.8642597273284
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            4,
            10
          ]
        },
        {
          "name": "frame_count",
          "type": "INT"
        },
        {
          "name": "audio",
          "type": "AUDIO",
          "slot_index": 2,
          "links": [
            7,
            15
          ]
        },
        {
          "name": "video_info",
          "type": "VHS_VIDEOINFO",
          "slot_index": 3,
          "links": [
            3
          ]
        }
      ],
      "title": "VHS_LoadVideoPath ‚Äî ORIGINAL_RANGE (seconds via frame_load_cap)",
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "1.7.7",
        "Node name for S&R": "VHS_LoadVideoPath"
      },
      "widgets_values": {
        "video": "\"C:\\\\Users\\\\admin\\\\Documents\\\\ComfyUI\\\\input\\\\video.mp4\"",
        "force_rate": 30,
        "custom_width": 0,
        "custom_height": 0,
        "frame_load_cap": 300,
        "skip_first_frames": 0,
        "select_every_nth": 1,
        "format": "AnimateDiff",
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "\"C:\\\\Users\\\\admin\\\\Documents\\\\ComfyUI\\\\input\\\\video.mp4\"",
            "type": "path",
            "format": "video/mp4\"",
            "force_rate": 30,
            "custom_width": 0,
            "custom_height": 0,
            "frame_load_cap": 300,
            "skip_first_frames": 0,
            "select_every_nth": 1
          }
        }
      }
    },
    {
      "id": 10,
      "type": "ImageCompositeMasked",
      "pos": [
        -139.16661071777344,
        317.91661071777344
      ],
      "size": [
        440,
        220
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "destination",
          "type": "IMAGE",
          "link": 10
        },
        {
          "name": "source",
          "type": "IMAGE",
          "link": 11
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK"
        },
        {
          "name": "x",
          "type": "INT",
          "widget": {
            "name": "x"
          },
          "link": 12
        },
        {
          "name": "y",
          "type": "INT",
          "widget": {
            "name": "y"
          },
          "link": 13
        },
        {
          "name": "resize_source",
          "type": "BOOLEAN",
          "widget": {
            "name": "resize_source"
          }
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            14,
            17
          ]
        }
      ],
      "title": "Composite edited ROI back (resize_source=True)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.67",
        "Node name for S&R": "ImageCompositeMasked"
      },
      "widgets_values": [
        true,
        0,
        false
      ]
    },
    {
      "id": 9,
      "type": "VHS_LoadVideoPath",
      "pos": [
        -518.7500228881836,
        808.5000228881836
      ],
      "size": [
        360,
        286
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            11
          ]
        },
        {
          "name": "frame_count",
          "type": "INT"
        },
        {
          "name": "audio",
          "type": "AUDIO",
          "slot_index": 2,
          "links": []
        },
        {
          "name": "video_info",
          "type": "VHS_VIDEOINFO"
        }
      ],
      "title": "VHS_LoadVideoPath ‚Äî EDITED ROI",
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "1.7.7",
        "Node name for S&R": "VHS_LoadVideoPath"
      },
      "widgets_values": {
        "video": "\"C:\\\\Users\\\\admin\\\\Documents\\\\ComfyUI\\\\input\\\\roi_edited.mp4\"",
        "force_rate": 30,
        "custom_width": 0,
        "custom_height": 0,
        "frame_load_cap": 300,
        "skip_first_frames": 0,
        "select_every_nth": 1,
        "format": "AnimateDiff",
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "\"C:\\\\Users\\\\admin\\\\Documents\\\\ComfyUI\\\\input\\\\roi_edited.mp4\"",
            "type": "path",
            "format": "video/mp4\"",
            "force_rate": 30,
            "custom_width": 0,
            "custom_height": 0,
            "frame_load_cap": 300,
            "skip_first_frames": 0,
            "select_every_nth": 1
          }
        }
      }
    },
    {
      "id": 14,
      "type": "PreviewImage",
      "pos": [
        -1033.3333587646484,
        529.1665649414062
      ],
      "size": [
        390.8365234375,
        246
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 20
        }
      ],
      "outputs": [],
      "title": "Preview PREVIEW frame (press ‚ñ∂ before opening Rect)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.67",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 1,
      "type": "VHS_LoadVideoPath",
      "pos": [
        -1483.3333587646484,
        85
      ],
      "size": [
        360,
        491.5
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            20
          ]
        },
        {
          "name": "frame_count",
          "type": "INT"
        },
        {
          "name": "audio",
          "type": "AUDIO",
          "slot_index": 2,
          "links": []
        },
        {
          "name": "video_info",
          "type": "VHS_VIDEOINFO",
          "slot_index": 3,
          "links": []
        }
      ],
      "title": "VHS_LoadVideoPath ‚Äî PREVIEW (1 frame)",
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "1.7.7",
        "Node name for S&R": "VHS_LoadVideoPath"
      },
      "widgets_values": {
        "video": "input/video.mp4",
        "force_rate": 30,
        "custom_width": 0,
        "custom_height": 0,
        "frame_load_cap": 1,
        "skip_first_frames": 0,
        "select_every_nth": 1,
        "format": "AnimateDiff",
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "input/video.mp4",
            "type": "path",
            "format": "video/mp4",
            "force_rate": 30,
            "custom_width": 0,
            "custom_height": 0,
            "frame_load_cap": 1,
            "skip_first_frames": 0,
            "select_every_nth": 1
          }
        }
      }
    },
    {
      "id": 8,
      "type": "PreviewImage",
      "pos": [
        -329.9166717529297,
        -108.66654586791992
      ],
      "size": [
        380,
        246
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 9
        }
      ],
      "outputs": [],
      "title": "Preview ROI (first frame)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.67",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 15,
      "type": "LoadImageOutput",
      "pos": [
        -1026.7916221618652,
        53.04169464111328
      ],
      "size": [
        274.080078125,
        362
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            21
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.67",
        "Node name for S&R": "LoadImageOutput"
      },
      "widgets_values": [
        "ROI_Reinsert_Preview_00235_.png [output]",
        false,
        "refresh",
        "image"
      ]
    },
    {
      "id": 3,
      "type": "RectSelect",
      "pos": [
        -629.25,
        336.66661071777344
      ],
      "size": [
        290,
        234
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 21
        }
      ],
      "outputs": [
        {
          "name": "rect",
          "type": "RECT",
          "slot_index": 0,
          "links": [
            5
          ]
        },
        {
          "name": "x",
          "type": "INT",
          "slot_index": 1,
          "links": [
            12
          ]
        },
        {
          "name": "y",
          "type": "INT",
          "slot_index": 2,
          "links": [
            13
          ]
        },
        {
          "name": "w",
          "type": "INT",
          "slot_index": 3,
          "links": []
        },
        {
          "name": "h",
          "type": "INT",
          "slot_index": 4,
          "links": []
        }
      ],
      "title": "Rect / Select (DRAW HERE)",
      "properties": {
        "x": 1072,
        "y": 626,
        "w": 192,
        "h": 57,
        "Node name for S&R": "RectSelect"
      },
      "widgets_values": [
        1072,
        626,
        192,
        57,
        "open"
      ]
    }
  ],
  "links": [
    [
      3,
      4,
      3,
      5,
      0,
      "VHS_VIDEOINFO"
    ],
    [
      4,
      4,
      0,
      6,
      0,
      "IMAGE"
    ],
    [
      5,
      3,
      0,
      6,
      1,
      "RECT"
    ],
    [
      6,
      6,
      0,
      7,
      0,
      "IMAGE"
    ],
    [
      7,
      4,
      2,
      7,
      1,
      "AUDIO"
    ],
    [
      8,
      5,
      0,
      7,
      4,
      "FLOAT"
    ],
    [
      9,
      6,
      0,
      8,
      0,
      "IMAGE"
    ],
    [
      10,
      4,
      0,
      10,
      0,
      "IMAGE"
    ],
    [
      11,
      9,
      0,
      10,
      1,
      "IMAGE"
    ],
    [
      12,
      3,
      1,
      10,
      3,
      "INT"
    ],
    [
      13,
      3,
      2,
      10,
      4,
      "INT"
    ],
    [
      14,
      10,
      0,
      11,
      0,
      "IMAGE"
    ],
    [
      15,
      4,
      2,
      11,
      1,
      "AUDIO"
    ],
    [
      16,
      5,
      0,
      11,
      4,
      "FLOAT"
    ],
    [
      17,
      10,
      0,
      12,
      0,
      "IMAGE"
    ],
    [
      20,
      1,
      0,
      14,
      0,
      "IMAGE"
    ],
    [
      21,
      15,
      0,
      3,
      0,
      "IMAGE"
    ]
  ],
  "groups": [],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.7272727272727273,
      "offset": [
        1741.7916221618652,
        618.8750419616699
      ]
    },
    "frontendVersion": "1.28.8",
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true
  },
  "version": 0.4
}
